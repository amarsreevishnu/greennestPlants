{% extends "greenest_admin/base.html" %}
{% load static %}

{% block admin_products_list %}
<style>

.badgee.pending { color: #0d6efd; }
.badgee.processing { color: #6c757d; }
.badgee.shipped { color: #0dcaf0; }
.badgee.delivered { color: #198754; }
.badgee.completed { color: #20c997; }
.badgee.cancelled { color: #dc3545; }
.badgee.partially_cancelled { color: #fd7e14; }
.badgee.partially_returned { color: #bb463fff; }
.badgee.return_requested { color: #ffc107; color: #000; }
.badgee.returned { color: #6f42c1; }

</style>


<!-- Main content area -->
    <div class="col-lg-10 p-0" style="background: #f8f9fa;">
      <div class="main-content">

        <div class="content-section">
  <div class="table-responsive">

<h1 class="mb-4">ðŸ“Š Sales Report</h1>


<form method="get" class="mb-3">
  <label>From: <input type="date" name="start_date" value="{{ start_date }}"></label>
  <label>To: <input type="date" name="end_date" value="{{ end_date }}"></label>
  <button type="submit">Filter</button>
</form>
<a href="{% url 'download_sales_report_pdf' %}" class="btn btn-success">
  ðŸ“¥ Download PDF
</a>
<div class="stats">
  <p><b>Total Orders:</b> {{ total_orders }}</p>
  <p><b>Total Revenue:</b> â‚¹{{ total_revenue }}</p>
  <p><b>Total Discount:</b> â‚¹{{ total_discount }}</p>
  <p><b>Total Tax:</b> â‚¹{{ total_tax }}</p>
  <p><b>Total Shipping:</b> â‚¹{{ total_shipping }}</p>
</div>



<h2>All Orders</h2>
<table border="1" cellpadding="5">
  <thead>
    <tr>
      <th>ID</th>
      <th>User</th>
      <th>Status</th>
      <th>Total</th>
      <th>Discount</th>
      <th>Tax</th>
      <th>Shipping</th>
      <th>Final Amount</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    {% for order in orders %}
    <tr>
      <td>{{ order.display_id }}</td>
      <td>{{ order.user.first_name }}</td>
      <td>{{ order.status }}</td>
      <td>â‚¹{{ order.total_amount }}</td>
      <td>â‚¹{{ order.discount }}</td>
      <td>â‚¹{{ order.tax }}</td>
      <td>â‚¹{{ order.shipping_charge }}</td>
      <td><b>â‚¹{{ order.final_amount }}</b></td>
      <td>{{ order.created_at|date:"Y-m-d H:i" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="9">No orders found.</td></tr>
    {% endfor %}
  </tbody>
</table>
 
  


        </div>   
    </div>

  </div>
</div>

{% endblock  %}




