{% extends "base.html" %}
{% load static %}
{% block Checkout_payment %}

<style>
    body {
      background: #fff;
      font-family: 'Segoe UI', Arial, sans-serif;
    }
    .navbar {
      background-color: #0d716d;
    }
    .navbar-brand img {
      height: 40px;
    }
    .address-card {
      border: 1px solid #ced4da;
      border-radius: 8px;
      padding: 16px;
      background: #fff;
      margin-bottom: 20px;
    }
    .order-summary {
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #ced4da;
      padding: 20px;
      min-width: 220px;
    }
    .payment-modes .form-check {
      margin-bottom: 12px;
    }
    .pay-btn {
      background: #0d716d;
      color: #fff;
      border-radius: 20px;
      padding: 10px 32px;
      margin-top: 16px;
      border: none;
    }
    .footer {
      background: #10453b;
      color: #fff;
      padding: 40px 0 20px;
    }
    .footer a {
      color: #fff;
      text-decoration: none;
      display: block;
      margin-bottom: 6px;
      font-size: 14px;
    }
    .footer .social-icons a {
      margin-right: 16px;
      font-size: 22px;
      color: #fff;
      display: inline-block;
    }
    @media (max-width: 768px) {
      .order-summary {
        margin-bottom: 24px;
      }
    }
  </style>



<!-- Main Section -->
<div class="container py-5">
  <div class="row g-5">
    <div class="col-lg-8">
      <!-- Address -->
      <div class="address-card d-flex justify-content-between align-items-start">
        <div>
          <strong>Shipping Address</strong><br>
           {% if selected_address %}
          {{ selected_address.full_name }}<br>
          {{ selected_address.line1 }},{{ selected_address.line2 }}<br>
          {{ selected_address.city }}, {{ selected_address.state }}, {{ selected_address.postal_code }}<br>
          {% else %}
            <p>No address selected. <a href="{% url 'checkout_address' %}">Choose Address</a></p>
          {% endif %}
        </div>
      </div>
      <hr>
      <!-- Payment Modes -->
      <div>
        <strong>Payment Mode</strong>
        <form class="payment-modes mt-3" method="POST">
          {% csrf_token %}

          <div class="form-check">
            <input class="form-check-input" type="radio" name="payment_method" id="payWallet" value="wallet">
            <label class="form-check-label" for="payWallet">
              Wallet (Balance: ₹{{ request.user.wallet.balance|default:0 }})
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="radio" name="payment_method" id="payRazorpay" value="razorpay">
            <label class="form-check-label" for="payRazorpay">Razorpay (UPI / Card / NetBanking / EMI)</label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="radio" name="payment_method" id="payCOD" value="cod" checked>
            <label class="form-check-label" for="payCOD">Cash On Delivery</label>
          </div>

          <button type="submit" class="pay-btn">PAY NOW</button>
        </form>
      </div>
    </div>
    <div class="col-lg-4">
      <!-- Order Summary -->
      <div class="order-summary">
        <strong>Order Summary</strong>
        <div class="d-flex justify-content-between">
          <span>Item Sub Total</span>
          <span>&#8377; {{ subtotal }} </span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Coupon Applied:</p>
           
              </span>
              <span class="text-success">- ₹ {% if discount %} {{ discount }} {% else %} 0.00 {% endif %}</span>
        </div>
        <div class="d-flex justify-content-between">
          <span>Shipping</span>
          <span>{% if shipping > 0 %}₹{{ shipping }}{% else %}Free{% endif %}</span>
        </div>
        <hr>
        <div class="d-flex justify-content-between fw-bold">
          <span>Total</span>
          <span>&#8377; {{ total }}</span>
        </div>
      </div>
    </div>
  </div>
</div>




{% endblock Checkout_payment %}
