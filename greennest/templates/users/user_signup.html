{% extends "base.html" %} 
{%load static %} 
{% block user_signup %}
{% load socialaccount %}

<!-- user-Signup-section -->
<section class="register-section py-5">
  <div class="container">
    <div class="row align-items-center">
      <!-- Left Image -->
      <div class="col-md-6 text-center">
        <img
          src="{% static 'images/Login-image2.png' %}"
          alt="Register Illustration"
          class="img-fluid"
        />
      </div>

      <!-- Right Form -->
      <div class="col-md-6">
        <h3 class="fw-bold">Register</h3>
        <p class="text-muted text-uppercase small">Join to us</p>
          {% if messages %}
              {% for message in messages %}
                  <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                      {{ message }}
                      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
              {% endfor %}
          {% endif %}

        <form action="" method="post" class="registration-form" autocomplete="off">
          {% csrf_token %}
          <!-- Name -->
          <div class="mb-3">
            <label for="name" class="form-label">Your Name</label>
            <input
              type="text"
              class="form-control"
              id="name"
              placeholder="John Doe"
              
              name="name"
              required
            />
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label">Email Address</label>
            <input
              type="email"
              class="form-control"
              id="email"
              placeholder="Example@gmail.com"
              name="email"
              autocomplete="none"
              required
            />
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <div class="input-group">
              <input
                type="password"
                class="form-control"
                id="password"
                placeholder="•••"
                name="password"
                autocomplete="none"
                required
              />
              <span class="input-group-text" id="togglePassword" style="cursor: pointer"
                ><i class="bi bi-eye"  id="passwordIcon" ></i
              ></span>
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="mb-3">
            <label for="confirmPassword" class="form-label"
              >Confirm Password</label
            >
            <div class="input-group">
              <input
                type="password"
                class="form-control"
                id="confirmPassword"
                placeholder="•••"
                name="password_confirm"
                autocomplete="none"
                required
              />
              <span
                class="input-group-text"
                id="toggleConfirmPassword"
                style="cursor: pointer"
              >
                <i class="bi bi-eye" id="confirmPasswordIcon"></i>
              </span>
            </div>
          </div>

          <!-- Register Button -->
          <button type="submit" class="btn btn-success w-100">Register</button>

          <!-- Divider -->
          <div class="text-center my-3">or</div>

          <!-- Google Button -->
          <button type="button" class="btn btn-light w-100 border">
            <a href="{% provider_login_url 'google' %}">
            <img src="{% static 'images/Google__G__logo.png' %}" width="20" class="me-2"/>
            Sign Up with Google
            </a>
          </button>

          <!-- Login Link -->
          <p class="mt-3 text-center small">
            Already user? <a href="{% url 'user_login' %}">Login</a>
          </p>
        </form>
      </div>
    </div>
  </div>
</section>


<script>
  // Toggle main password
  document.getElementById("togglePassword").addEventListener("click", function () {
    const passwordInput = document.getElementById("password");
    const icon = document.getElementById("passwordIcon");

    if (passwordInput.type === "password") {
      passwordInput.type = "text";
      icon.classList.remove("bi-eye");
      icon.classList.add("bi-eye-slash");
    } else {
      passwordInput.type = "password";
      icon.classList.remove("bi-eye-slash");
      icon.classList.add("bi-eye");
    }
  });

  // Toggle confirm password
  document.getElementById("toggleConfirmPassword").addEventListener("click", function () {
    const confirmPasswordInput = document.getElementById("confirmPassword");
    const icon = document.getElementById("confirmPasswordIcon");

    if (confirmPasswordInput.type === "password") {
      confirmPasswordInput.type = "text";
      icon.classList.remove("bi-eye");
      icon.classList.add("bi-eye-slash");
    } else {
      confirmPasswordInput.type = "password";
      icon.classList.remove("bi-eye-slash");
      icon.classList.add("bi-eye");
    }
  });
</script>
{% endblock %}
